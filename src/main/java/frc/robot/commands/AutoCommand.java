package frc.robot.commands;

import java.util.ArrayList;
import java.util.Arrays;

import edu.wpi.first.wpilibj.Encoder;
import edu.wpi.first.wpilibj.Timer;
import edu.wpi.first.wpilibj.CounterBase.EncodingType;
import edu.wpi.first.wpilibj.command.Command;
import frc.robot.subsystems.DriveTrain;
import frc.robot.motionProfiling.MotionProfileState;
import frc.robot.motionProfiling.MotionProfiler;
import frc.robot.motionProfiling.MotionTriplet;
import frc.robot.motionProfiling.Point;

public class AutoCommand extends Command {
    double time = 0;
    // declare subsystem variable
    DriveTrain driveTrain;
    MotionProfiler motionProfiler;
    Encoder leftEncoder;
    Encoder rightEncoder;
    
    public AutoCommand() {
        super("Auto Command");
        // get drive train subsystem instance
        driveTrain = DriveTrain.getInstance();
        motionProfiler = new MotionProfiler();
        
        //required for each command to know which subsystems it will be using
        requires(driveTrain);
        


        

        rightEncoder = new Encoder(0, 1, false, EncodingType.k4X);
        leftEncoder = new Encoder(3, 4, false, EncodingType.k4X);
    }

    @Override
    protected void initialize() {
        super.initialize();
    }

    @Override
    protected void execute() {
        super.execute();
  if(motionProfiler.getState() == MotionProfileState.IDLE){
    leftEncoder.reset();
    rightEncoder.reset();
    
}
        if (time == 0) {
            time = Timer.getFPGATimestamp();
        }
        double currentTime = Timer.getFPGATimestamp();

        double timePassed = currentTime - time;

        double desiredTime = 5.0;

  double leftAngularDistance = -leftEncoder.get();
  double rightAngularDistance = rightEncoder.get();




  double kv = 0.5; //needs to be tuned
  double kp = 4.5; //needs to be tuned
  double leftVelocity = 0;
  double rightVelocity =0;
  double displacement = 0;
  double leftDifference = 0;
  double rightDifference = 0;
  double desiredPoint =0;
  double leftTheo =0;
  double rightTheo =0;
  double numPoints = 7/0.01;

  //Add (x, y) displacement points
  Point[] points = {
    new Point (0, 1), new Point (0.01, 1.01), new Point (0.02, 1.02), new Point (0.03, 1.03), new Point (0.04, 1.04), new Point (0.05, 1.05), new Point (0.06, 1.06), new Point (0.07, 1.07), new Point (0.08, 1.08), new Point (0.09, 1.09), new Point (0.1, 1.1), new Point (0.11, 1.11), new Point (0.12, 1.12), new Point (0.13, 1.14), new Point (0.14, 1.15), new Point (0.15, 1.16), new Point (0.16, 1.17), new Point (0.17, 1.18), new Point (0.18, 1.19), new Point (0.19, 1.2), new Point (0.2, 1.21), new Point (0.21, 1.22), new Point (0.22, 1.23), new Point (0.23, 1.25), new Point (0.24, 1.26), new Point (0.25, 1.27), new Point (0.26, 1.28), new Point (0.27, 1.29), new Point (0.28, 1.3), new Point (0.29, 1.32), new Point (0.3, 1.33), new Point (0.31, 1.34), new Point (0.32, 1.35), new Point (0.33, 1.36), new Point (0.34, 1.37), new Point (0.35, 1.39), new Point (0.36, 1.4), new Point (0.37, 1.41), new Point (0.38, 1.42), new Point (0.39, 1.43), new Point (0.4, 1.45), new Point (0.41, 1.46), new Point (0.42, 1.47), new Point (0.43, 1.48), new Point (0.44, 1.5), new Point (0.45, 1.51), new Point (0.46, 1.52), new Point (0.47, 1.53), new Point (0.48, 1.54), new Point (0.49, 1.56), new Point (0.5, 1.57), new Point (0.51, 1.58), new Point (0.52, 1.59), new Point (0.53, 1.61), new Point (0.54, 1.62), new Point (0.55, 1.63), new Point (0.56, 1.65), new Point (0.57, 1.66), new Point (0.58, 1.67), new Point (0.59, 1.68), new Point (0.6, 1.7), new Point (0.61, 1.71), new Point (0.62, 1.72), new Point (0.63, 1.73), new Point (0.64, 1.75), new Point (0.65, 1.76), new Point (0.66, 1.77), new Point (0.67, 1.79), new Point (0.68, 1.8), new Point (0.69, 1.81), new Point (0.7, 1.83), new Point (0.71, 1.84), new Point (0.72, 1.85), new Point (0.73, 1.86), new Point (0.74, 1.88), new Point (0.75, 1.89), new Point (0.76, 1.9), new Point (0.77, 1.92), new Point (0.78, 1.93), new Point (0.79, 1.94), new Point (0.8, 1.96), new Point (0.81, 1.97), new Point (0.82, 1.98), new Point (0.83, 2), new Point (0.84, 2.01), new Point (0.85, 2.02), new Point (0.86, 2.04), new Point (0.87, 2.05), new Point (0.88, 2.06), new Point (0.89, 2.08), new Point (0.9, 2.09), new Point (0.91, 2.1), new Point (0.92, 2.12), new Point (0.93, 2.13), new Point (0.94, 2.14), new Point (0.95, 2.16), new Point (0.96, 2.17), new Point (0.97, 2.18), new Point (0.98, 2.2), new Point (0.99, 2.21), new Point (1, 2.22), new Point (1.01, 2.24), new Point (1.02, 2.25), new Point (1.03, 2.26), new Point (1.04, 2.28), new Point (1.05, 2.29), new Point (1.06, 2.3), new Point (1.07, 2.32), new Point (1.08, 2.33), new Point (1.09, 2.34), new Point (1.1, 2.36), new Point (1.11, 2.37), new Point (1.12, 2.38), new Point (1.13, 2.4), new Point (1.14, 2.41), new Point (1.15, 2.42), new Point (1.16, 2.44), new Point (1.17, 2.45), new Point (1.18, 2.46), new Point (1.19, 2.47), new Point (1.2, 2.49), new Point (1.21, 2.5), new Point (1.22, 2.51), new Point (1.23, 2.53), new Point (1.24, 2.54), new Point (1.25, 2.55), new Point (1.26, 2.57), new Point (1.27, 2.58), new Point (1.28, 2.59), new Point (1.29, 2.61), new Point (1.3, 2.62), new Point (1.31, 2.63), new Point (1.32, 2.65), new Point (1.33, 2.66), new Point (1.34, 2.67), new Point (1.35, 2.68), new Point (1.36, 2.7), new Point (1.37, 2.71), new Point (1.38, 2.72), new Point (1.39, 2.74), new Point (1.4, 2.75), new Point (1.41, 2.76), new Point (1.42, 2.77), new Point (1.43, 2.79), new Point (1.44, 2.8), new Point (1.45, 2.81), new Point (1.46, 2.82), new Point (1.47, 2.84), new Point (1.48, 2.85), new Point (1.49, 2.86), new Point (1.5, 2.88), new Point (1.51, 2.89), new Point (1.52, 2.9), new Point (1.53, 2.91), new Point (1.54, 2.92), new Point (1.55, 2.94), new Point (1.56, 2.95), new Point (1.57, 2.96), new Point (1.58, 2.97), new Point (1.59, 2.99), new Point (1.6, 3), new Point (1.61, 3.01), new Point (1.62, 3.02), new Point (1.63, 3.03), new Point (1.64, 3.05), new Point (1.65, 3.06), new Point (1.66, 3.07), new Point (1.67, 3.08), new Point (1.68, 3.09), new Point (1.69, 3.11), new Point (1.7, 3.12), new Point (1.71, 3.13), new Point (1.72, 3.14), new Point (1.73, 3.15), new Point (1.74, 3.16), new Point (1.75, 3.18), new Point (1.76, 3.19), new Point (1.77, 3.2), new Point (1.78, 3.21), new Point (1.79, 3.22), new Point (1.8, 3.23), new Point (1.81, 3.24), new Point (1.82, 3.25), new Point (1.83, 3.27), new Point (1.84, 3.28), new Point (1.85, 3.29), new Point (1.86, 3.3), new Point (1.87, 3.31), new Point (1.88, 3.32), new Point (1.89, 3.33), new Point (1.9, 3.34), new Point (1.91, 3.35), new Point (1.92, 3.36), new Point (1.93, 3.37), new Point (1.94, 3.38), new Point (1.95, 3.39), new Point (1.96, 3.4), new Point (1.97, 3.41), new Point (1.98, 3.42), new Point (1.99, 3.43), new Point (2, 3.44), new Point (2.01, 3.45), new Point (2.02, 3.46), new Point (2.03, 3.47), new Point (2.04, 3.48), new Point (2.05, 3.49), new Point (2.06, 3.5), new Point (2.07, 3.51), new Point (2.08, 3.52), new Point (2.09, 3.53), new Point (2.1, 3.54), new Point (2.11, 3.55), new Point (2.12, 3.56), new Point (2.13, 3.57), new Point (2.14, 3.58), new Point (2.15, 3.59), new Point (2.16, 3.6), new Point (2.17, 3.6), new Point (2.18, 3.61), new Point (2.19, 3.62), new Point (2.2, 3.63), new Point (2.21, 3.64), new Point (2.22, 3.65), new Point (2.23, 3.66), new Point (2.24, 3.66), new Point (2.25, 3.67), new Point (2.26, 3.68), new Point (2.27, 3.69), new Point (2.28, 3.7), new Point (2.29, 3.7), new Point (2.3, 3.71), new Point (2.31, 3.72), new Point (2.32, 3.73), new Point (2.33, 3.73), new Point (2.34, 3.74), new Point (2.35, 3.75), new Point (2.36, 3.76), new Point (2.37, 3.76), new Point (2.38, 3.77), new Point (2.39, 3.78), new Point (2.4, 3.78), new Point (2.41, 3.79), new Point (2.42, 3.8), new Point (2.43, 3.8), new Point (2.44, 3.81), new Point (2.45, 3.82), new Point (2.46, 3.82), new Point (2.47, 3.83), new Point (2.48, 3.84), new Point (2.49, 3.84), new Point (2.5, 3.85), new Point (2.51, 3.85), new Point (2.52, 3.86), new Point (2.53, 3.86), new Point (2.54, 3.87), new Point (2.55, 3.88), new Point (2.56, 3.88), new Point (2.57, 3.89), new Point (2.58, 3.89), new Point (2.59, 3.9), new Point (2.6, 3.9), new Point (2.61, 3.91), new Point (2.62, 3.91), new Point (2.63, 3.91), new Point (2.64, 3.92), new Point (2.65, 3.92), new Point (2.66, 3.93), new Point (2.67, 3.93), new Point (2.68, 3.94), new Point (2.69, 3.94), new Point (2.7, 3.94), new Point (2.71, 3.95), new Point (2.72, 3.95), new Point (2.73, 3.95), new Point (2.74, 3.96), new Point (2.75, 3.96), new Point (2.76, 3.96), new Point (2.77, 3.97), new Point (2.78, 3.97), new Point (2.79, 3.97), new Point (2.8, 3.97), new Point (2.81, 3.98), new Point (2.82, 3.98), new Point (2.83, 3.98), new Point (2.84, 3.98), new Point (2.85, 3.99), new Point (2.86, 3.99), new Point (2.87, 3.99), new Point (2.88, 3.99), new Point (2.89, 3.99), new Point (2.9, 3.99), new Point (2.91, 3.99), new Point (2.92, 4), new Point (2.93, 4), new Point (2.94, 4), new Point (2.95, 4), new Point (2.96, 4), new Point (2.97, 4), new Point (2.98, 4), new Point (2.99, 4), new Point (3, 4), new Point (3.01, 4), new Point (3.02, 4), new Point (3.03, 4), new Point (3.04, 4), new Point (3.05, 4), new Point (3.06, 4), new Point (3.07, 4), new Point (3.08, 4), new Point (3.09, 4), new Point (3.1, 4), new Point (3.11, 4), new Point (3.12, 4), new Point (3.13, 4), new Point (3.14, 4), new Point (3.15, 4), new Point (3.16, 4), new Point (3.17, 4), new Point (3.18, 4), new Point (3.19, 4), new Point (3.2, 4), new Point (3.21, 4), new Point (3.22, 4), new Point (3.23, 4), new Point (3.24, 4), new Point (3.25, 4), new Point (3.26, 4), new Point (3.27, 4), new Point (3.28, 4), new Point (3.29, 4), new Point (3.3, 4), new Point (3.31, 4), new Point (3.32, 4), new Point (3.33, 4), new Point (3.34, 4), new Point (3.35, 4), new Point (3.36, 4), new Point (3.37, 4), new Point (3.38, 4), new Point (3.39, 4), new Point (3.4, 4), new Point (3.41, 4), new Point (3.42, 4), new Point (3.43, 4), new Point (3.44, 4), new Point (3.45, 4), new Point (3.46, 4), new Point (3.47, 4), new Point (3.48, 4), new Point (3.49, 4), new Point (3.5, 4), new Point (3.51, 4), new Point (3.52, 4), new Point (3.53, 4), new Point (3.54, 4), new Point (3.55, 4), new Point (3.56, 4), new Point (3.57, 4), new Point (3.58, 4), new Point (3.59, 4), new Point (3.6, 4), new Point (3.61, 4), new Point (3.62, 4), new Point (3.63, 4), new Point (3.64, 4), new Point (3.65, 4), new Point (3.66, 4), new Point (3.67, 4), new Point (3.68, 4), new Point (3.69, 4), new Point (3.7, 4), new Point (3.71, 4), new Point (3.72, 4), new Point (3.73, 4), new Point (3.74, 4), new Point (3.75, 4), new Point (3.76, 4), new Point (3.77, 4), new Point (3.78, 4), new Point (3.79, 4), new Point (3.8, 4), new Point (3.81, 4), new Point (3.82, 4), new Point (3.83, 4), new Point (3.84, 4), new Point (3.85, 4), new Point (3.86, 4), new Point (3.87, 4), new Point (3.88, 4), new Point (3.89, 4), new Point (3.9, 4), new Point (3.91, 4), new Point (3.92, 4), new Point (3.93, 4), new Point (3.94, 4), new Point (3.95, 4), new Point (3.96, 4), new Point (3.97, 4), new Point (3.98, 4), new Point (3.99, 4), new Point (4, 4), new Point (4.01, 4), new Point (4.02, 4), new Point (4.03, 4), new Point (4.04, 4), new Point (4.05, 4), new Point (4.06, 4), new Point (4.07, 4), new Point (4.08, 4), new Point (4.09, 4), new Point (4.1, 4), new Point (4.11, 4), new Point (4.12, 4), new Point (4.13, 4), new Point (4.14, 4), new Point (4.15, 4), new Point (4.16, 4), new Point (4.17, 4), new Point (4.18, 4), new Point (4.19, 4), new Point (4.2, 4), new Point (4.21, 4), new Point (4.22, 4), new Point (4.23, 4), new Point (4.24, 4), new Point (4.25, 4), new Point (4.26, 4), new Point (4.27, 4), new Point (4.28, 4), new Point (4.29, 4), new Point (4.3, 4), new Point (4.31, 4), new Point (4.32, 4), new Point (4.33, 4), new Point (4.34, 4), new Point (4.35, 4), new Point (4.36, 4), new Point (4.37, 4), new Point (4.38, 4), new Point (4.39, 4), new Point (4.4, 4), new Point (4.41, 4), new Point (4.42, 4), new Point (4.43, 4), new Point (4.44, 4), new Point (4.45, 4), new Point (4.46, 4), new Point (4.47, 4), new Point (4.48, 4), new Point (4.49, 4), new Point (4.5, 4), new Point (4.51, 4), new Point (4.52, 4), new Point (4.53, 4), new Point (4.54, 4), new Point (4.55, 4), new Point (4.56, 4), new Point (4.57, 4), new Point (4.58, 4), new Point (4.59, 4), new Point (4.6, 4), new Point (4.61, 4), new Point (4.62, 4), new Point (4.63, 4), new Point (4.64, 4), new Point (4.65, 4), new Point (4.66, 4), new Point (4.67, 4), new Point (4.68, 4), new Point (4.69, 4), new Point (4.7, 4), new Point (4.71, 4), new Point (4.72, 4), new Point (4.73, 4), new Point (4.74, 4), new Point (4.75, 4), new Point (4.76, 4), new Point (4.77, 4), new Point (4.78, 4), new Point (4.79, 4), new Point (4.8, 4), new Point (4.81, 4), new Point (4.82, 4), new Point (4.83, 4), new Point (4.84, 4), new Point (4.85, 4), new Point (4.86, 4), new Point (4.87, 4), new Point (4.88, 4), new Point (4.89, 4), new Point (4.9, 4), new Point (4.91, 4), new Point (4.92, 4), new Point (4.93, 4), new Point (4.94, 4), new Point (4.95, 4), new Point (4.96, 4), new Point (4.97, 4), new Point (4.98, 4), new Point (4.99, 4), new Point (5, 4), new Point (5.01, 4), new Point (5.02, 4), new Point (5.03, 4), new Point (5.04, 4), new Point (5.05, 4), new Point (5.06, 4), new Point (5.07, 4), new Point (5.08, 4), new Point (5.09, 4), new Point (5.1, 4), new Point (5.11, 4), new Point (5.12, 4), new Point (5.13, 4), new Point (5.14, 4), new Point (5.15, 4), new Point (5.16, 4), new Point (5.17, 4), new Point (5.18, 4), new Point (5.19, 4), new Point (5.2, 4), new Point (5.21, 4), new Point (5.22, 4), new Point (5.23, 4), new Point (5.24, 4), new Point (5.25, 4), new Point (5.26, 4), new Point (5.27, 4), new Point (5.28, 4), new Point (5.29, 4), new Point (5.3, 4), new Point (5.31, 4), new Point (5.32, 4), new Point (5.33, 4), new Point (5.34, 4), new Point (5.35, 4), new Point (5.36, 4), new Point (5.37, 4), new Point (5.38, 4), new Point (5.39, 4), new Point (5.4, 4), new Point (5.41, 4), new Point (5.42, 4), new Point (5.43, 4), new Point (5.44, 4), new Point (5.45, 4), new Point (5.46, 4), new Point (5.47, 4), new Point (5.48, 4), new Point (5.49, 4), new Point (5.5, 4), new Point (5.51, 4), new Point (5.52, 4), new Point (5.53, 4), new Point (5.54, 4), new Point (5.55, 4), new Point (5.56, 4), new Point (5.57, 4), new Point (5.58, 4), new Point (5.59, 4), new Point (5.6, 4), new Point (5.61, 4), new Point (5.62, 4), new Point (5.63, 4), new Point (5.64, 4), new Point (5.65, 4), new Point (5.66, 4), new Point (5.67, 4), new Point (5.68, 4), new Point (5.69, 4), new Point (5.7, 4), new Point (5.71, 4), new Point (5.72, 4), new Point (5.73, 4), new Point (5.74, 4), new Point (5.75, 4), new Point (5.76, 4), new Point (5.77, 4), new Point (5.78, 4), new Point (5.79, 4), new Point (5.8, 4), new Point (5.81, 4), new Point (5.82, 4), new Point (5.83, 4), new Point (5.84, 4), new Point (5.85, 4), new Point (5.86, 4), new Point (5.87, 4), new Point (5.88, 4), new Point (5.89, 4), new Point (5.9, 4), new Point (5.91, 4), new Point (5.92, 4), new Point (5.93, 4), new Point (5.94, 4), new Point (5.95, 4), new Point (5.96, 4), new Point (5.97, 4), new Point (5.98, 4), new Point (5.99, 4), new Point (6, 4), new Point (6.01, 4), new Point (6.02, 4), new Point (6.03, 4), new Point (6.04, 4), new Point (6.05, 3.99), new Point (6.06, 3.99), new Point (6.07, 3.99), new Point (6.08, 3.99), new Point (6.09, 3.98), new Point (6.1, 3.98), new Point (6.11, 3.98), new Point (6.12, 3.97), new Point (6.13, 3.97), new Point (6.14, 3.96), new Point (6.15, 3.96), new Point (6.16, 3.95), new Point (6.17, 3.94), new Point (6.18, 3.94), new Point (6.19, 3.93), new Point (6.2, 3.92), new Point (6.21, 3.92), new Point (6.22, 3.91), new Point (6.23, 3.9), new Point (6.24, 3.89), new Point (6.25, 3.88), new Point (6.26, 3.87), new Point (6.27, 3.86), new Point (6.28, 3.86), new Point (6.29, 3.85), new Point (6.3, 3.84), new Point (6.31, 3.83), new Point (6.32, 3.82), new Point (6.33, 3.81), new Point (6.34, 3.79), new Point (6.35, 3.78), new Point (6.36, 3.77), new Point (6.37, 3.76), new Point (6.38, 3.75), new Point (6.39, 3.74), new Point (6.4, 3.73), new Point (6.41, 3.72), new Point (6.42, 3.7), new Point (6.43, 3.69), new Point (6.44, 3.68), new Point (6.45, 3.67), new Point (6.46, 3.65), new Point (6.47, 3.64), new Point (6.48, 3.63), new Point (6.49, 3.62), new Point (6.5, 3.6), new Point (6.51, 3.59), new Point (6.52, 3.58), new Point (6.53, 3.56), new Point (6.54, 3.55), new Point (6.55, 3.54), new Point (6.56, 3.52), new Point (6.57, 3.51), new Point (6.58, 3.5), new Point (6.59, 3.48), new Point (6.6, 3.47), new Point (6.61, 3.46), new Point (6.62, 3.44), new Point (6.63, 3.43), new Point (6.64, 3.42), new Point (6.65, 3.4), new Point (6.66, 3.39), new Point (6.67, 3.38), new Point (6.68, 3.36), new Point (6.69, 3.35), new Point (6.7, 3.34), new Point (6.71, 3.32), new Point (6.72, 3.31), new Point (6.73, 3.3), new Point (6.74, 3.29), new Point (6.75, 3.27), new Point (6.76, 3.26), new Point (6.77, 3.25), new Point (6.78, 3.23), new Point (6.79, 3.22), new Point (6.8, 3.21), new Point (6.81, 3.2), new Point (6.82, 3.19), new Point (6.83, 3.17), new Point (6.84, 3.16), new Point (6.85, 3.15), new Point (6.86, 3.14), new Point (6.87, 3.13), new Point (6.88, 3.12), new Point (6.89, 3.11), new Point (6.9, 3.1), new Point (6.91, 3.08), new Point (6.92, 3.07), new Point (6.93, 3.06), new Point (6.94, 3.05), new Point (6.95, 3.04), new Point (6.96, 3.04), new Point (6.97, 3.03), new Point (6.98, 3.02), new Point (6.99, 3.01), new Point (7, 3), new Point (7.01, 2.99), new Point (7.02, 2.98), new Point (7.03, 2.98), new Point (7.04, 2.97), new Point (7.05, 2.96), new Point (7.06, 2.95), new Point (7.07, 2.94), new Point (7.08, 2.93), new Point (7.09, 2.93), new Point (7.1, 2.92), new Point (7.11, 2.91), new Point (7.12, 2.9), new Point (7.13, 2.89), new Point (7.14, 2.89), new Point (7.15, 2.88), new Point (7.16, 2.87), new Point (7.17, 2.86), new Point (7.18, 2.85), new Point (7.19, 2.85), new Point (7.2, 2.84), new Point (7.21, 2.83), new Point (7.22, 2.82), new Point (7.23, 2.82), new Point (7.24, 2.81), new Point (7.25, 2.8), new Point (7.26, 2.79), new Point (7.27, 2.78), new Point (7.28, 2.78), new Point (7.29, 2.77), new Point (7.3, 2.76), new Point (7.31, 2.75), new Point (7.32, 2.75), new Point (7.33, 2.74), new Point (7.34, 2.73), new Point (7.35, 2.72), new Point (7.36, 2.72), new Point (7.37, 2.71), new Point (7.38, 2.7), new Point (7.39, 2.69), new Point (7.4, 2.68), new Point (7.41, 2.68), new Point (7.42, 2.67), new Point (7.43, 2.66), new Point (7.44, 2.66), new Point (7.45, 2.65), new Point (7.46, 2.64), new Point (7.47, 2.63), new Point (7.48, 2.63), new Point (7.49, 2.62), new Point (7.5, 2.61), new Point (7.51, 2.6), new Point (7.52, 2.6), new Point (7.53, 2.59), new Point (7.54, 2.58), new Point (7.55, 2.57), new Point (7.56, 2.57), new Point (7.57, 2.56), new Point (7.58, 2.55), new Point (7.59, 2.55), new Point (7.6, 2.54), new Point (7.61, 2.53), new Point (7.62, 2.52), new Point (7.63, 2.52), new Point (7.64, 2.51), new Point (7.65, 2.5), new Point (7.66, 2.5), new Point (7.67, 2.49), new Point (7.68, 2.48), new Point (7.69, 2.47), new Point (7.7, 2.47), new Point (7.71, 2.46), new Point (7.72, 2.45), new Point (7.73, 2.45), new Point (7.74, 2.44), new Point (7.75, 2.43), new Point (7.76, 2.43), new Point (7.77, 2.42), new Point (7.78, 2.41), new Point (7.79, 2.4), new Point (7.8, 2.4), new Point (7.81, 2.39), new Point (7.82, 2.38), new Point (7.83, 2.38), new Point (7.84, 2.37), new Point (7.85, 2.36), new Point (7.86, 2.36), new Point (7.87, 2.35), new Point (7.88, 2.34), new Point (7.89, 2.34), new Point (7.9, 2.33), new Point (7.91, 2.32), new Point (7.92, 2.32), new Point (7.93, 2.31), new Point (7.94, 2.3), new Point (7.95, 2.3), new Point (7.96, 2.29), new Point (7.97, 2.28), new Point (7.98, 2.28), new Point (7.99, 2.27), new Point (8, 2.26), new Point (8.01, 2.26), new Point (8.02, 2.25), new Point (8.03, 2.24), new Point (8.04, 2.24), new Point (8.05, 2.23), new Point (8.06, 2.22), new Point (8.07, 2.22), new Point (8.08, 2.21), new Point (8.09, 2.2), new Point (8.1, 2.2), new Point (8.11, 2.19), new Point (8.12, 2.18), new Point (8.13, 2.18), new Point (8.14, 2.17), new Point (8.15, 2.16), new Point (8.16, 2.16), new Point (8.17, 2.15), new Point (8.18, 2.14), new Point (8.19, 2.14), new Point (8.2, 2.13), new Point (8.21, 2.12), new Point (8.22, 2.12), new Point (8.23, 2.11), new Point (8.24, 2.1), new Point (8.25, 2.1), new Point (8.26, 2.09), new Point (8.27, 2.09), new Point (8.28, 2.08), new Point (8.29, 2.07), new Point (8.3, 2.07), new Point (8.31, 2.06), new Point (8.32, 2.05), new Point (8.33, 2.05), new Point (8.34, 2.04), new Point (8.35, 2.03), new Point (8.36, 2.03), new Point (8.37, 2.02), new Point (8.38, 2.02), new Point (8.39, 2.01), new Point (8.4, 2), new Point (8.41, 2), new Point (8.42, 1.99), new Point (8.43, 1.98), new Point (8.44, 1.98), new Point (8.45, 1.97), new Point (8.46, 1.96), new Point (8.47, 1.96), new Point (8.48, 1.95), new Point (8.49, 1.95), new Point (8.5, 1.94), new Point (8.51, 1.93), new Point (8.52, 1.93), new Point (8.53, 1.92), new Point (8.54, 1.91), new Point (8.55, 1.91), new Point (8.56, 1.9), new Point (8.57, 1.9), new Point (8.58, 1.89), new Point (8.59, 1.88), new Point (8.6, 1.88), new Point (8.61, 1.87), new Point (8.62, 1.86), new Point (8.63, 1.86), new Point (8.64, 1.85), new Point (8.65, 1.85), new Point (8.66, 1.84), new Point (8.67, 1.83), new Point (8.68, 1.83), new Point (8.69, 1.82), new Point (8.7, 1.82), new Point (8.71, 1.81), new Point (8.72, 1.8), new Point (8.73, 1.8), new Point (8.74, 1.79), new Point (8.75, 1.78), new Point (8.76, 1.78), new Point (8.77, 1.77), new Point (8.78, 1.77), new Point (8.79, 1.76), new Point (8.8, 1.75), new Point (8.81, 1.75), new Point (8.82, 1.74), new Point (8.83, 1.74), new Point (8.84, 1.73), new Point (8.85, 1.72), new Point (8.86, 1.72), new Point (8.87, 1.71), new Point (8.88, 1.7), new Point (8.89, 1.7), new Point (8.9, 1.69), new Point (8.91, 1.69), new Point (8.92, 1.68), new Point (8.93, 1.67), new Point (8.94, 1.67), new Point (8.95, 1.66), new Point (8.96, 1.66), new Point (8.97, 1.65), new Point (8.98, 1.64), new Point (8.99, 1.64), new Point (9, 1.63), new Point (9.01, 1.62), new Point (9.02, 1.62), new Point (9.03, 1.61), new Point (9.04, 1.61), new Point (9.05, 1.6), new Point (9.06, 1.59), new Point (9.07, 1.59), new Point (9.08, 1.58), new Point (9.09, 1.58), new Point (9.1, 1.57), new Point (9.11, 1.56), new Point (9.12, 1.56), new Point (9.13, 1.55), new Point (9.14, 1.55), new Point (9.15, 1.54), new Point (9.16, 1.53), new Point (9.17, 1.53), new Point (9.18, 1.52), new Point (9.19, 1.51), new Point (9.2, 1.51), new Point (9.21, 1.5), new Point (9.22, 1.5), new Point (9.23, 1.49), new Point (9.24, 1.48), new Point (9.25, 1.48), new Point (9.26, 1.47), new Point (9.27, 1.47), new Point (9.28, 1.46), new Point (9.29, 1.45), new Point (9.3, 1.45), new Point (9.31, 1.44), new Point (9.32, 1.43), new Point (9.33, 1.43), new Point (9.34, 1.42), new Point (9.35, 1.42), new Point (9.36, 1.41), new Point (9.37, 1.4), new Point (9.38, 1.4), new Point (9.39, 1.39), new Point (9.4, 1.38), new Point (9.41, 1.38), new Point (9.42, 1.37), new Point (9.43, 1.37), new Point (9.44, 1.36), new Point (9.45, 1.35), new Point (9.46, 1.35), new Point (9.47, 1.34), new Point (9.48, 1.33), new Point (9.49, 1.33), new Point (9.5, 1.32), new Point (9.51, 1.32), new Point (9.52, 1.31), new Point (9.53, 1.3), new Point (9.54, 1.3), new Point (9.55, 1.29), new Point (9.56, 1.28), new Point (9.57, 1.28), new Point (9.58, 1.27), new Point (9.59, 1.27), new Point (9.6, 1.26), new Point (9.61, 1.25), new Point (9.62, 1.25), new Point (9.63, 1.24), new Point (9.64, 1.23), new Point (9.65, 1.23), new Point (9.66, 1.22), new Point (9.67, 1.21), new Point (9.68, 1.21), new Point (9.69, 1.2), new Point (9.7, 1.2), new Point (9.71, 1.19), new Point (9.72, 1.18), new Point (9.73, 1.18), new Point (9.74, 1.17), new Point (9.75, 1.16), new Point (9.76, 1.16), new Point (9.77, 1.15), new Point (9.78, 1.14), new Point (9.79, 1.14), new Point (9.8, 1.13), new Point (9.81, 1.12), new Point (9.82, 1.12), new Point (9.83, 1.11), new Point (9.84, 1.11), new Point (9.85, 1.1), new Point (9.86, 1.09), new Point (9.87, 1.09), new Point (9.88, 1.08), new Point (9.89, 1.07), new Point (9.9, 1.07), new Point (9.91, 1.06), new Point (9.92, 1.05), new Point (9.93, 1.05), new Point (9.94, 1.04), new Point (9.95, 1.03), new Point (9.96, 1.03), new Point (9.97, 1.02), new Point (9.98, 1.01), new Point (9.99, 1.01), new Point (10, 1),
  };
  ArrayList<Point> newPoints = new ArrayList<>(Arrays.asList(points));


  if(timePassed<=desiredTime){
    desiredPoint = (int)(timePassed/desiredTime)*numPoints;
    leftTheo = motionProfiler.getLeftSum(desiredPoint, newPoints);
    rightTheo = motionProfiler.getRightSum(desiredPoint, newPoints);
    leftVelocity = motionProfiler.getLeftSlope(desiredPoint, newPoints, 7/desiredTime);
    rightVelocity = motionProfiler.getRightSlope(desiredPoint, newPoints, 7/desiredTime);
    leftDifference = leftTheo - leftAngularDistance;
    rightDifference = rightTheo - rightAngularDistance;

    double leftSpeed = (leftVelocity * kv) + (leftDifference* kp);
    double rightSpeed = (rightVelocity * kv) + (rightDifference* kp);

    driveTrain.setLeftGroupSpeed(leftSpeed*0.5);
	driveTrain.setRightGroupSpeed(rightSpeed*0.5);
    
  }

  
  


    }




    @Override
    protected boolean isFinished() {
        return false;
    }



}